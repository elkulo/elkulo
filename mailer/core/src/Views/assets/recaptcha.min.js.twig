/*!
 * Mailer | el.kulo v3.2.0 (https://github.com/elkulo/Mailer/)
 * Copyright 2020-2022 A.Sudo
 * Licensed under LGPL-2.1-only (https://github.com/elkulo/Mailer/blob/main/LICENSE)
 */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mailer",c=document.querySelector(e),i=window,r=i.grecaptcha;if(c&&n&&"object"===t(r)){var u={minute:2,timer:null,limit:5,count:0},a=!0,l=document.createElement("div");l.style.display="none",c.appendChild(l);var p={captchaResponse:document.createElement("input"),captchaAction:document.createElement("input")};Object.keys(p).forEach((function(t){"captchaResponse"===t?(p[t].setAttribute("name","_recaptcha-response"),p[t].setAttribute("value","")):"captchaAction"===t&&(p[t].setAttribute("name","_recaptcha-action"),p[t].setAttribute("value",o)),p[t].setAttribute("type","hidden"),l.appendChild(p[t])}));var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u.timer&&clearTimeout(u.timer),u.count<u.limit&&(u.timer=setTimeout((function(){return m()}),6e4*u.minute)),"focus"===t?u.count=0:u.count++},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a&&new Promise((function(t,e){r.ready((function(){try{r.execute(n,{action:o}).then((function(e){return t(e)}))}catch(t){e(t)}}))})).then((function(e){p.captchaResponse.setAttribute("value",e),f(t&&"focus"===t.type)})).catch((function(t){t&&console.error("無効なreCAPTHCAのサイトキー"),a=!1}))};c.querySelectorAll("input, textarea").forEach((function(t){t.addEventListener("focus",(function(t){return m(t)}),!1)})),m()}};window.applyReCaptcha=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mailer";document.addEventListener("DOMContentLoaded",(function(){e(t,n,o)}),!1)}})();